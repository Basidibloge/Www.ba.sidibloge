- name: Force SmartX2 Extraction
        run: |
          echo "AI is bypassing Server Protection..."
          
          # محاكاة اتصال تطبيق أندرويد حقيقي باستخدام كودك
          # أضفنا هيدر (Header) لجعل السيرفر يفتح الملف ولا يعطيه فارغاً
          curl -A "Mozilla/5.0 (Linux; Android 10; SM-G981B) AppleWebKit/537.36" \
               -sL "http://vsn.one:8080/get.php?username=745446402722985&password=745446402722985&type=m3u_plus&output=ts" \
               -o VIP_Full_List.m3u || true

          # محاولة جلب روابط احتياطية من مصدر عام إذا كان الكود منتهياً
          curl -sL "https://raw.githubusercontent.com/iptv-org/iptv/master/index.m3u" >> VIP_Full_List.m3u || true
          
          echo "Process finished. Check the file size now."
